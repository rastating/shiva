---
- block:

  - name: 'node : install LTS version with snap'
    snap:
      name: go
      classic: yes
# add the following if version 10.x is preferred to LTS
      # channel: "10"

  - name: 'node : import Yarn APT key'
    apt_key:
      state: present
      url: https://dl.yarnpkg.com/debian/pubkey.gpg

  - name: 'node : setup Yarn PPA'
    apt_repository:
      repo: deb https://dl.yarnpkg.com/debian/ stable main
      state: present
      filename: yarn
      update_cache: yes

  - name: 'node : install Yarn'
    apt:
      name: yarn
      state: present

  tags:
    - common
    - node
    - cookie-monster
