---
- block:
  - name: 'golang : install golang snap'
    snap:
      name: go
      classic: yes

  - name: 'golang : setup $GOPATH'
    lineinfile:
      insertafter: EOF
      line: export GOPATH=/root/.go
      path: '{{ item }}'
      state: present
    with_items:
      - /etc/profile
      - /etc/zsh/zprofile

  - name: 'golang : setup $GOBIN'
    lineinfile:
      insertafter: EOF
      line: export GOBIN=$GOPATH/bin
      path: '{{ item }}'
      state: present
    with_items:
      - /etc/profile
      - /etc/zsh/zprofile

  tags:
    - common
    - golang
    - gobuster
